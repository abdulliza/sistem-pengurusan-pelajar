<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistem Pengurusan Pengajaran - Kolej Komuniti Jeli</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * { box-sizing: border-box; }
        body { margin: 0; font-family: system-ui, -apple-system, sans-serif; }
        .tab-active { background-color: #3b82f6; color: white; }
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); }
        .modal.show { display: flex; align-items: center; justify-content: center; }
        .modal-content { background: white; padding: 2rem; border-radius: 0.5rem; max-width: 500px; width: 90%; max-height: 90vh; overflow-y: auto; }
        @media print {
            .no-print { display: none !important; }
            .print-only { display: block !important; }
        }
        .print-only { display: none; }
    </style>
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="bg-blue-900 text-white shadow-lg no-print">
            <div class="container mx-auto px-4 py-4">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <div class="flex items-center gap-4 mb-4 md:mb-0">
                        <div class="bg-white p-2 rounded">
                            <span class="text-2xl">🎓</span>
                        </div>
                        <div>
                            <h1 class="text-2xl font-bold">Sistem Pengurusan Pengajaran</h1>
                            <p class="text-blue-200 text-sm">Kolej Komuniti Jeli - Unit Pengajian Am</p>
                        </div>
                    </div>
                    <div class="text-center md:text-right">
                        <p class="font-semibold" id="lecturerName">Ahmad Bin Abdullah</p>
                        <p class="text-sm text-blue-200">ID: KKJ2024001</p>
                    </div>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="bg-white shadow-sm sticky top-0 z-40 no-print">
            <div class="container mx-auto px-4">
                <div class="flex overflow-x-auto" id="navTabs">
                    <button class="tab-btn px-6 py-4 font-medium tab-active" data-tab="dashboard">
                        📊 Dashboard
                    </button>
                    <button class="tab-btn px-6 py-4 font-medium" data-tab="classes">
                        📚 Kelas
                    </button>
                    <button class="tab-btn px-6 py-4 font-medium" data-tab="attendance">
                        ✅ Kehadiran
                    </button>
                    <button class="tab-btn px-6 py-4 font-medium" data-tab="marks">
                        📝 Markah
                    </button>
                    <button class="tab-btn px-6 py-4 font-medium" data-tab="reports">
                        📈 Laporan
                    </button>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="container mx-auto px-4 py-6">
            <!-- Dashboard Tab -->
            <div id="dashboard" class="tab-content">
                <div class="space-y-6">
                    <!-- Stats Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                        <div class="bg-white p-6 rounded-lg shadow">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-500 text-sm">Jumlah Pelajar</p>
                                    <p class="text-3xl font-bold text-gray-800">67</p>
                                </div>
                                <span class="text-3xl">👥</span>
                            </div>
                        </div>
                        
                        <div class="bg-red-50 p-6 rounded-lg shadow">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-red-600 text-sm">Kehadiran < 80%</p>
                                    <p class="text-3xl font-bold text-red-600">5</p>
                                </div>
                                <span class="text-3xl">⚠️</span>
                            </div>
                        </div>
                        
                        <div class="bg-yellow-50 p-6 rounded-lg shadow">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-yellow-600 text-sm">Tugasan Pending</p>
                                    <p class="text-3xl font-bold text-yellow-600">3</p>
                                </div>
                                <span class="text-3xl">📋</span>
                            </div>
                        </div>
                        
                        <div class="bg-green-50 p-6 rounded-lg shadow">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-green-600 text-sm">Kelas Hari Ini</p>
                                    <p class="text-3xl font-bold text-green-600">2</p>
                                </div>
                                <span class="text-3xl">📅</span>
                            </div>
                        </div>
                    </div>

                    <!-- Today's Classes -->
                    <div class="bg-white rounded-lg shadow p-6">
                        <h2 class="text-xl font-bold mb-4">📅 Kelas Hari Ini</h2>
                        <div class="space-y-3">
                            <div class="flex items-center justify-between p-4 bg-blue-50 rounded-lg">
                                <div>
                                    <p class="font-semibold">MPU3113 - Hubungan Etnik</p>
                                    <p class="text-sm text-gray-600">9:00 - 11:00 | Bilik Kuliah 1</p>
                                </div>
                                <span class="text-blue-600 font-medium">35 pelajar</span>
                            </div>
                            <div class="flex items-center justify-between p-4 bg-blue-50 rounded-lg">
                                <div>
                                    <p class="font-semibold">MPU3123 - TITAS</p>
                                    <p class="text-sm text-gray-600">14:00 - 16:00 | Bilik Kuliah 2</p>
                                </div>
                                <span class="text-blue-600 font-medium">32 pelajar</span>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <button onclick="backupData()" class="bg-green-600 text-white p-4 rounded-lg hover:bg-green-700">
                            <span class="text-2xl mb-2 block">💾</span>
                            <span class="text-sm">Backup Data</span>
                        </button>
                        
                        <button onclick="window.print()" class="bg-gray-600 text-white p-4 rounded-lg hover:bg-gray-700">
                            <span class="text-2xl mb-2 block">🖨️</span>
                            <span class="text-sm">Print</span>
                        </button>
                        
                        <button onclick="showTab('attendance')" class="bg-blue-600 text-white p-4 rounded-lg hover:bg-blue-700">
                            <span class="text-2xl mb-2 block">✅</span>
                            <span class="text-sm">Kehadiran</span>
                        </button>
                        
                        <button onclick="showTab('marks')" class="bg-purple-600 text-white p-4 rounded-lg hover:bg-purple-700">
                            <span class="text-2xl mb-2 block">📊</span>
                            <span class="text-sm">Markah</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Classes Tab -->
            <div id="classes" class="tab-content" style="display:none;">
                <div class="space-y-6">
                    <div class="flex justify-between items-center">
                        <h2 class="text-2xl font-bold">Senarai Kelas</h2>
                        <button onclick="showModal('addClass')" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">
                            ➕ Tambah Kelas
                        </button>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-white rounded-lg shadow p-6">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <h3 class="text-lg font-bold text-blue-900">MPU3113</h3>
                                    <p class="text-gray-600">Hubungan Etnik</p>
                                </div>
                                <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm">35 pelajar</span>
                            </div>
                            
                            <div class="space-y-2 text-sm">
                                <p>📅 Isnin, 9:00 - 11:00</p>
                                <p>📍 Bilik Kuliah 1</p>
                                <p>📊 Semester 1 2024/2025</p>
                            </div>
                            
                            <div class="mt-4 pt-4 border-t">
                                <p class="text-sm font-semibold mb-2">Pembahagian Markah:</p>
                                <div class="grid grid-cols-2 gap-2 text-sm">
                                    <span>Quiz: 10%</span>
                                    <span>Assignment: 20%</span>
                                    <span>Test: 20%</span>
                                    <span>Final: 50%</span>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-lg shadow p-6">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <h3 class="text-lg font-bold text-blue-900">MPU3123</h3>
                                    <p class="text-gray-600">TITAS</p>
                                </div>
                                <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm">32 pelajar</span>
                            </div>
                            
                            <div class="space-y-2 text-sm">
                                <p>📅 Selasa, 14:00 - 16:00</p>
                                <p>📍 Bilik Kuliah 2</p>
                                <p>📊 Semester 1 2024/2025</p>
                            </div>
                            
                            <div class="mt-4 pt-4 border-t">
                                <p class="text-sm font-semibold mb-2">Pembahagian Markah:</p>
                                <div class="grid grid-cols-2 gap-2 text-sm">
                                    <span>Quiz: 15%</span>
                                    <span>Assignment: 25%</span>
                                    <span>Test: 20%</span>
                                    <span>Final: 40%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Attendance Tab -->
            <div id="attendance" class="tab-content" style="display:none;">
                <div class="bg-white rounded-lg shadow p-6">
                    <h2 class="text-2xl font-bold mb-4">Kehadiran Pelajar</h2>
                    
                    <div class="flex flex-col md:flex-row gap-4 mb-6">
                        <select class="flex-1 px-4 py-2 border rounded-lg">
                            <option>Pilih Kelas</option>
                            <option>MPU3113 - Hubungan Etnik</option>
                            <option>MPU3123 - TITAS</option>
                        </select>
                        
                        <input type="date" class="px-4 py-2 border rounded-lg" value="2024-11-23">
                        
                        <button class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700">
                            Mula Kehadiran
                        </button>
                    </div>

                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-4 py-3 text-left">No.</th>
                                    <th class="px-4 py-3 text-left">Nama</th>
                                    <th class="px-4 py-3 text-left">No. Matrik</th>
                                    <th class="px-4 py-3 text-center">Status</th>
                                    <th class="px-4 py-3 text-center">% Hadir</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y">
                                <tr>
                                    <td class="px-4 py-3">1</td>
                                    <td class="px-4 py-3 font-medium">AMINAH BINTI HASSAN</td>
                                    <td class="px-4 py-3">KKJ2024S001</td>
                                    <td class="px-4 py-3 text-center">
                                        <select class="px-2 py-1 border rounded text-sm">
                                            <option>Hadir</option>
                                            <option>Tidak Hadir</option>
                                            <option>MC</option>
                                            <option>Cuti</option>
                                        </select>
                                    </td>
                                    <td class="px-4 py-3 text-center font-semibold text-green-600">90%</td>
                                </tr>
                                <tr>
                                    <td class="px-4 py-3">2</td>
                                    <td class="px-4 py-3 font-medium">BADRUL HISHAM BIN OMAR</td>
                                    <td class="px-4 py-3">KKJ2024S002</td>
                                    <td class="px-4 py-3 text-center">
                                        <select class="px-2 py-1 border rounded text-sm">
                                            <option>Hadir</option>
                                            <option>Tidak Hadir</option>
                                            <option>MC</option>
                                            <option>Cuti</option>
                                        </select>
                                    </td>
                                    <td class="px-4 py-3 text-center font-semibold text-red-600">75% ⚠️</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Marks Tab -->
            <div id="marks" class="tab-content" style="display:none;">
                <div class="space-y-6">
                    <div class="flex justify-between items-center">
                        <h2 class="text-2xl font-bold">Pengurusan Markah</h2>
                        <button class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">
                            Masukkan Markah
                        </button>
                    </div>

                    <div class="bg-white rounded-lg shadow">
                        <div class="p-6">
                            <select class="w-full md:w-auto px-4 py-2 border rounded-lg mb-4">
                                <option>Pilih Kelas</option>
                                <option>MPU3113 - Hubungan Etnik</option>
                                <option>MPU3123 - TITAS</option>
                            </select>

                            <div class="overflow-x-auto">
                                <table class="w-full">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-4 py-3 text-left">Nama</th>
                                            <th class="px-4 py-3 text-center">Quiz</th>
                                            <th class="px-4 py-3 text-center">Assignment</th>
                                            <th class="px-4 py-3 text-center">Test</th>
                                            <th class="px-4 py-3 text-center">Final</th>
                                            <th class="px-4 py-3 text-center">Total</th>
                                            <th class="px-4 py-3 text-center">Gred</th>
                                        </tr>
                                    </thead>
                                    <tbody class="divide-y">
                                        <tr>
                                            <td class="px-4 py-3 font-medium">AMINAH BINTI HASSAN</td>
                                            <td class="px-4 py-3 text-center">8/10</td>
                                            <td class="px-4 py-3 text-center">18/20</td>
                                            <td class="px-4 py-3 text-center">15/20</td>
                                            <td class="px-4 py-3 text-center">40/50</td>
                                            <td class="px-4 py-3 text-center font-bold">81</td>
                                            <td class="px-4 py-3 text-center">
                                                <span class="bg-green-100 text-green-800 px-2 py-1 rounded font-semibold">A</span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="px-4 py-3 font-medium">BADRUL HISHAM BIN OMAR</td>
                                            <td class="px-4 py-3 text-center">7/10</td>
                                            <td class="px-4 py-3 text-center">16/20</td>
                                            <td class="px-4 py-3 text-center">14/20</td>
                                            <td class="px-4 py-3 text-center">30/50</td>
                                            <td class="px-4 py-3 text-center font-bold">67</td>
                                            <td class="px-4 py-3 text-center">
                                                <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded font-semibold">B</span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Reports Tab -->
            <div id="reports" class="tab-content" style="display:none;">
                <div class="space-y-6">
                    <h2 class="text-2xl font-bold">Laporan & Analisis</h2>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-white rounded-lg shadow p-6">
                            <h3 class="text-lg font-bold mb-4">📊 Laporan Kehadiran</h3>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center p-3 bg-gray-50 rounded">
                                    <div>
                                        <p class="font-semibold">MPU3113</p>
                                        <p class="text-sm text-gray-600">Hubungan Etnik</p>
                                    </div>
                                    <p class="font-bold text-green-600">85.5%</p>
                                </div>
                                <div class="flex justify-between items-center p-3 bg-gray-50 rounded">
                                    <div>
                                        <p class="font-semibold">MPU3123</p>
                                        <p class="text-sm text-gray-600">TITAS</p>
                                    </div>
                                    <p class="font-bold text-yellow-600">78.2%</p>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-lg shadow p-6">
                            <h3 class="text-lg font-bold mb-4">🎯 Prestasi Keseluruhan</h3>
                            <div class="space-y-4">
                                <div class="flex justify-between items-center">
                                    <span>Pelajar Lulus</span>
                                    <span class="font-bold text-green-600">85%</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span>Pelajar Gagal</span>
                                    <span class="font-bold text-red-600">15%</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span>Purata Markah</span>
                                    <span class="font-bold">68.5</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow p-6">
                        <h3 class="text-lg font-bold mb-4">📤 Export Laporan</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <button class="p-4 border-2 border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50">
                                <span class="text-2xl mb-2 block">📄</span>
                                <span>CIDOS Format</span>
                            </button>
                            <button onclick="exportExcel()" class="p-4 border-2 border-green-600 text-green-600 rounded-lg hover:bg-green-50">
                                <span class="text-2xl mb-2 block">📊</span>
                                <span>Excel Report</span>
                            </button>
                            <button class="p-4 border-2 border-purple-600 text-purple-600 rounded-lg hover:bg-purple-50">
                                <span class="text-2xl mb-2 block">📑</span>
                                <span>PDF Summary</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="bg-gray-800 text-white py-6 mt-12 no-print">
            <div class="container mx-auto px-4 text-center">
                <p class="text-sm">© 2024 Sistem Pengurusan Pengajaran - Kolej Komuniti Jeli</p>
                <p class="text-xs text-gray-400 mt-2">Unit Pengajian Am | Kementerian Pendidikan Tinggi Malaysia</p>
            </div>
        </footer>

        <!-- Add Class Modal -->
        <div id="addClass" class="modal">
            <div class="modal-content">
                <h3 class="text-xl font-bold mb-4">Tambah Kelas Baru</h3>
                <div class="space-y-4">
                    <input type="text" placeholder="Kod Kursus" class="w-full px-4 py-2 border rounded-lg">
                    <input type="text" placeholder="Nama Kursus" class="w-full px-4 py-2 border rounded-lg">
                    <input type="text" placeholder="Semester" class="w-full px-4 py-2 border rounded-lg">
                    <div class="grid grid-cols-2 gap-4">
                        <input type="text" placeholder="Hari" class="px-4 py-2 border rounded-lg">
                        <input type="text" placeholder="Masa" class="px-4 py-2 border rounded-lg">
                    </div>
                    <input type="text" placeholder="Venue" class="w-full px-4 py-2 border rounded-lg">
                </div>
                <div class="flex gap-3 mt-6">
                    <button class="flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700">Simpan</button>
                    <button onclick="hideModal('addClass')" class="flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400">Batal</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Tab Navigation
        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.style.display = 'none';
            });
            
            // Remove active class from all buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('tab-active');
            });
            
            // Show selected tab
            document.getElementById(tabName).style.display = 'block';
            
            // Add active class to button
            document.querySelector(`[data-tab="${tabName}"]`).classList.add('tab-active');
        }

        // Add click listeners to tab buttons
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                showTab(this.getAttribute('data-tab'));
            });
        });

        // Modal Functions
        function showModal(modalId) {
            document.getElementById(modalId).classList.add('show');
        }

        function hideModal(modalId) {
            document.getElementById(modalId).classList.remove('show');
        }

        // Data Management
        function backupData() {
            const data = {
                lecturer: {
                    name: document.getElementById('lecturerName').textContent,
                    id: 'KKJ2024001'
                },
                classes: [
                    { code: 'MPU3113', name: 'Hubungan Etnik', students: 35 },
                    { code: 'MPU3123', name: 'TITAS', students: 32 }
                ],
                backupDate: new Date().toLocaleString('ms-MY')
            };
            
            const dataStr = JSON.stringify(data, null, 2);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            const exportFileDefaultName = `kkjeli_backup_${new Date().toISOString().slice(0,10)}.json`;
            
            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportFileDefaultName);
            linkElement.click();
            
            alert('Backup berjaya! File telah dimuat turun.');
        }

        function exportExcel() {
            alert('Export Excel akan diaktifkan dalam versi akan datang.');
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            showTab('dashboard');
        });
    </script>
</body>
</html>